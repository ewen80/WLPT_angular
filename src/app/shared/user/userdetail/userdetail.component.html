<!--Widget ID (each widget will need unique ID)-->
<sa-widget [colorbutton]="false" [editbutton]="false" [deletebutton]="false" [fullscreenbutton]="false">
    <!-- widget options:
          usage: <sa-widget [editbutton]="false">

          [colorbutton]="false"
          [editbutton]="false"
          [togglebutton]="false"
          [deletebutton]="false"
          [fullscreenbutton]="false"
          [custombutton]="false"
          [collapsed]="true"
          [sortable]="false"

          -->
    <header>
        <span class="widget-icon"> <i class="fa fa-user"></i> </span>
        <h2>用户信息</h2>
    </header>
    <!-- widget div-->
    <div>
        <!-- widget content -->
        <div class="widget-body">
            <form [formGroup]="userDetailForm" (ngSubmit)="onSubmit()" novalidate>
                <fieldset>
                    <div class="form-group">
                        <label for="userId">用户名：</label>
                        <div *ngIf="saveMode === 1">
                            <input formControlName="userId" id="userId" class="form-control" type="text">
                            <div *ngIf="formErrors.userId" class="alert alert-danger">
                                {{ formErrors.userId }}
                            </div>
                        </div>
                        <div *ngIf="user && saveMode != 1">
                            {{user.userId}}
                        </div>
                    </div>
                    <div class="form-group" *ngIf="saveMode !== 0">
                        <label for="password">密码：</label>
                        <input class="form-control" formControlName="password" id="password" type="password">
                        <div *ngIf="formErrors.password" class="alert alert-danger">
                            {{ formErrors.password }}
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="name">姓名：</label>
                        <input class="form-control" type="text" formControlName="name" id="name">
                        <div *ngIf="formErrors.name" class="alert alert-danger">
                            {{ formErrors.name }}
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="roleId">角色：</label>
                        <select class="form-control" formControlName="roleId" id="roleId" (change)="changeRole()">
                      <option *ngFor="let role of allRoles" [value]="role.id">{{role.name}}({{role.id}})</option>
                    </select>
                    </div>
                    <!--<div class="form-group">
                        <label for="deleted">是否删除：</label>
                        <div>
                            <label class="radio radio-inline">
                          <input type="radio"  formControlName="deleted" value="false">否
                        </label>
                        </div>
                        <div>
                            <label class="radio radio-inline">
                          <input type="radio"  formControlName="deleted" value="true">是
                        </label>
                        </div>
                        <div *ngIf="formErrors.deleted" class="alert alert-danger">
                            {{ formErrors.deleted }}
                        </div>
                    </div>-->
                    <div *ngIf="saveMode!==0" class="form-actions">
                        <button class="btn btn-primary" type="submit" [disabled]="!userDetailForm.valid">
                    <i class="fa fa-save"></i>
                    保存
                    </button>
                    </div>
                </fieldset>

            </form>

        </div>
        <!-- end widget content -->

    </div>
    <!-- end widget div -->

</sa-widget>
<!-- end widget -->