<div id="content">
    <div class="row">
        <sa-big-breadcrumbs [items]="['后台管理', '菜单管理']" icon="table" class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></sa-big-breadcrumbs>
    </div>

    <sa-widgets-grid>
        <div class="row">
            <article class="col-sm-12">
                <sa-widget [editbutton]="false" [togglebutton]="false" [fullscreenbutton]="false" [deletebutton]="false">
                    <header>
                        <span class="widget-icon"> <i class="fa fa-users"></i> </span>
                        <h2>菜单管理</h2>
                        <!--<div class="widget-toolbar">
              <button class="btn btn-default" (click)="addUserModalShow()">
                <i class="fa fa-plus"></i> <span class="hidden-mobile">添加根菜单</span>
              </button>
            </div>-->
                    </header>
                    <div>
                        <div class="widget-body">
                            <article class="col-sm-12 col-md-12 col-lg-6 sortable-grid ui-sortable">
                                <tree-root #menuTree [nodes]="nodes" [options]="menuTreeOptions" (activate)="onTreeClick($event)" (deactivate)="onTreeClick($event)">
                                    <ng-template #treeNodeTemplate let-node let-index="index">
                                        <span>{{ node.data.name }}</span>
                                        <a class="btn btn-info btn-xs" (click)="addChildMenuClick(node.data)">+</a>&nbsp;
                                        <a class="btn btn-danger btn-xs" (click)="delMenuClick(node)">-</a>
                                    </ng-template>
                                </tree-root>
                            </article>
                            <article class="col-sm-12 col-md-12 col-lg-6 sortable-grid ui-sortable">
                                <!--菜单详情框-->
                                <form [formGroup]="menuDetailForm" class="form-horizontal" (ngSubmit)="onSubmit()" novalidate>
                                    <fieldset>
                                        <legend>{{curSaveMode.title}}</legend>
                                        <div class="form-group">
                                            <label class="col-md-2 control-label">名称</label>
                                            <div class="col-md-10">
                                                <input formControlName="name" class="form-control" type="text">
                                                <div *ngIf="formErrors.name" class="alert alert-danger">
                                                    {{ formErrors.name }}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-2 control-label">路径</label>
                                            <div class="col-md-10">
                                                <input formControlName="path" class="form-control" type="text">
                                                <div *ngIf="formErrors.path" class="alert alert-danger">
                                                    {{ formErrors.path }}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-2 control-label">排序号</label>
                                            <div class="col-md-10">
                                                <input formControlName="orderId" class="form-control" type="text">
                                                <div *ngIf="formErrors.orderId" class="alert alert-danger">
                                                    {{ formErrors.orderId }}
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <div class="col-md-2"></div>
                                            <div class="col-md-10">
                                                <button class="btn btn-primary" type="submit" [disabled]="!menuDetailForm.valid">
                                                    <i class="fa fa-save"></i>
                                                    {{curSaveMode.buttonTitle}}
                                                    </button>
                                            </div>
                                        </div>
                                    </fieldset>
                                </form>
                            </article>
                        </div>
                    </div>
                </sa-widget>
            </article>
        </div>
    </sa-widgets-grid>